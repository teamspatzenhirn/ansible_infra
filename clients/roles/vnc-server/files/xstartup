!/bin/sh

# Stolen from here: https://bytexd.com/how-to-install-configure-vnc-server-on-ubuntu/ or something like that

# Start up the standard system desktop
unset SESSION_MANAGER
unset DBUS_SESSION_BUS_ADDRESS

# https://bbs.archlinux.org/viewtopic.php?id=23756
# source /etc/profile for flatpak to set $XDG_DATA_DIRS
[ -f /etc/profile ] && . /etc/profile
if [ -f $HOME/.bash_profile ]; then
  . $HOME/.bash_profile
elif [ -f $HOME/.bash_login ]; then
  . $HOME/.bash_login
elif [ -f $HOME/.profile ]; then
  . $HOME/.profile
fi

/usr/bin/startxfce4
[ -x /etc/vnc/xstartup ] && exec /etc/vnc/xstartup
[ -r $HOME/.Xresources ] && xrdb $HOME/.Xresources
x-window-manager &